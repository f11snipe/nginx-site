var LS_SIM='access.log  error.log  snipe.log  <span class="ex">watch</span>',LS_ALL=`
total 69
-rw-r----- 1 root root    69 Apr 29 16:22 access.log
-rw-r----- 1 root root    69 Apr 29 16:22 error.log
-rw-r----- 1 root root    69 Apr 29 16:22 snipe.log
-rwxr-xr-x 1 root root   118 Apr 29 17:20 <span class="ex">watch</span>
`;$(function(){var n,l,s=[],c=["wtf is going on","how did this console get here?","hopefully i can turn it off..."],o="/var/log/nginx",r="root",e="nginx",i=()=>r+`@${e}:${o}# `,p=["/","$","\\","-","*","&","^","#","@"," ","!","(",")","[","]","|","Tab","ArrowUp","ArrowDown"],g=$("pre#console"),a={"access.log":"/logs/access.log","error.log":"/logs/error.log","snipe.log":"/logs/snipe.log",watch:"/logs/watch.sh"},h=Object.keys(a);function f(){var e=document.getElementById("console");e.scrollTop=e.scrollHeight}function t(){g.append(`
`+i())}var d=(e,t)=>{var o,e=e[0]||h[0];a[e]&&(o=a[e],n=setInterval(()=>{$.get(o,e=>{g.html(e),f()})},1e3))},u={id:(e,t)=>t("uid=0(root) gid=0(root) groups=0(root)"),cd:(e,t)=>{o=e[0],t("")},ftw:(e,t)=>$.get("/art/ftw.txt",t),snipe:(e,t)=>$.get("/art/ftw.txt",t),f11snipe:(e,t)=>$.get("/art/ftw.txt",t),lol:(e,t)=>$.get("/art/lol-70.txt",t),derp:(e,t)=>$.get("/art/derp-60.txt",t),glhf:(e,t)=>$.get("/art/glhf.txt",t),pwd:(e,t)=>t(o),ssh:(e,t)=>t("You wish!"),exit:(e,t)=>t("Umm, noooo"),help:(e,t)=>t("NO!"),shit:(e,t)=>t("Watch your language!"),fuck:(e,t)=>t("Watch your language!"),tail:d,watch:d,"./watch":d,whoami:(e,t)=>t(r),clear:(e,t)=>{g.html(""),t("")},history:(e,t)=>t(c.map((e,t)=>(t+1).toString().padStart(5)+`	`+e).join(`
`)),cat:(e,t)=>{e=e[0];if(!e||!a[e])return t("hmmm, not sure what you lookin for...");$.get(a[e],t)},ls:(e,t)=>{var o=/^-[a-z]*l[a-z]*/,r="none";e[0]&&o.test(e[0])?e[0]&&o.test(e[0])&&(r=LS_ALL):r=LS_SIM,t(r)}},w=()=>{c.push(s.join("")),s=[],l=null,t(),f()};$(document).on("keydown",function(e){if(g.hasClass("active")){switch(e.key){case"Tab":var t=s.join("").trim().split(" ").map(e=>e.trim()).pop().replace(/^\.\//,"");h.forEach(e=>{0===e.indexOf(t)&&(e=e.substring(t.length),g.append(e),s=s.concat(Array.from(e)))});break;case"Enter":r=(a=s.join("").split(" "))[0],a=a.slice(1),g.append(`
`),u[r]&&"function"==typeof u[r]?u[r](a,e=>{g.append(e),w()}):(g.append(`Command '${r}' not found.`),w());break;case"Backspace":s.length&&(g.html(g.html().slice(0,-1)),s.pop());break;case"ArrowUp":0<(l=l||c.length)&&(l--,s=Array.from(c[l]),g.html(`
`+i()+s.join("")));break;case"ArrowDown":l&&l<c.length-1&&(l++,s=Array.from(c[l]),g.html(`
`+i()+s.join("")));break;default:if(e.altKey||e.ctrlKey||e.shiftKey){var o=e;switch(o.key){case"c":case"C":case"d":case"D":case"z":case"Z":o.ctrlKey&&n&&(clearInterval(n),w());break;case"v":case"V":o.ctrlKey&&navigator.clipboard.readText().then(e=>{e&&(g.append(e),s=s.concat(Array.from(e)))});break;default:o.ctrlKey&&o.shiftKey||1===o.key.length&&(g.append(o.key),s.push(o.key))}}else 1===e.key.length&&(g.append(e.key),s.push(e.key))}var r,a;return p.includes(e.key)?(e.preventDefault(),!1):void 0}}),g.on("click",function(e){g.addClass("active")}),t()});