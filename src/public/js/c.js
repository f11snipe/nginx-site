var LS_SIM='access.log  error.log  snipe.log  <span class="ex">watch</span>',LS_ALL=`
total 69
-rw-r----- 1 root root    69 Apr 29 16:22 access.log
-rw-r----- 1 root root    69 Apr 29 16:22 error.log
-rw-r----- 1 root root    69 Apr 29 16:22 snipe.log
-rwxr-xr-x 1 root root   118 Apr 29 17:20 <span class="ex">watch</span>
`;$(function(){var s,c=[],o="/var/log/nginx",r="root",e="nginx",n=["/","$","\\","-","*","&","^","#","@"," ","!","(",")","[","]","|","Tab"],l=$("pre#console"),t={"access.log":"/logs/access.log","error.log":"/logs/error.log","snipe.log":"/logs/snipe.log",watch:"/logs/watch.sh"},p=Object.keys(t);function i(){var e=document.getElementById("console");e.scrollTop=e.scrollHeight}function a(){l.append(`
`+r+`@${e}:${o}# `)}var g=(e,a)=>{var o,e=e[0]||p[0];t[e]&&(o=t[e],s=setInterval(()=>{$.get(o,e=>{l.text(e),i()})},1e3))},h={id:(e,a)=>a("uid=0(root) gid=0(root) groups=0(root)"),cd:(e,a)=>{o=e[0],a("")},pwd:(e,a)=>a(o),ssh:(e,a)=>a("hahahaha, you wish!"),exit:(e,a)=>a("NO"),tail:g,watch:g,"./watch":g,whoami:(e,a)=>a(r),clear:(e,a)=>{l.text(""),a("")},cat:(e,a)=>{e=e[0];if(!e||!t[e])return a("hmmm, not sure what you lookin for...");$.get(t[e],a)},ls:(e,a)=>{var o=/^-[a-z]*l[a-z]*/,r="none";e[0]&&o.test(e[0])?e[0]&&o.test(e[0])&&(r=LS_ALL):r=LS_SIM,a(r)}},d=()=>{c=[],a(),i()};$(document).on("keydown",function(e){switch(e.key){case"Tab":var a=c.join("").trim().split(" ").map(e=>e.trim()).pop().replace(/^\.\//,"");p.forEach(e=>{0===e.indexOf(a)&&(e=e.substring(a.length),l.append(e),c=c.concat(Array.from(e)))});break;case"Enter":r=(t=c.join("").split(" "))[0],t=t.slice(1),l.append(`
`),h[r]&&"function"==typeof h[r]?h[r](t,e=>{l.append(e),d()}):(l.append(`Command '${r}' not found.`),d());break;case"Backspace":c.length&&(l.html(l.html().slice(0,-1)),c.pop());break;default:if(e.altKey||e.ctrlKey||e.shiftKey){var o=e;switch(o.key){case"c":case"C":case"d":case"D":case"z":case"Z":o.ctrlKey&&s&&(clearInterval(s),d());break;case"v":case"V":o.ctrlKey&&navigator.clipboard.readText().then(e=>{e&&(l.append(e),c=c.concat(Array.from(e)))});break;default:o.ctrlKey&&o.shiftKey||1===o.key.length&&(l.append(o.key),c.push(o.key))}}else 1===e.key.length&&(l.append(e.key),c.push(e.key))}var r,t;if(n.includes(e.key))return e.preventDefault(),!1}),l.on("click",function(e){l.addClass("active")}),a()});